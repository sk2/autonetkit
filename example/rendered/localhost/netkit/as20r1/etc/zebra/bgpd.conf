!
hostname as20r1
password 1234              
banner motd file /etc/quagga/motd.txt
!enable password 1234
!
  router bgp 20   
  bgp router-id 10.0.0.35
  no synchronization
  network 192.168.1.64/27
! ibgp
  ! ibgp peers
  ! as20r2
  neighbor 10.0.0.33 remote-as 20
  neighbor 10.0.0.33 update-source 10.0.0.35                                                     
  neighbor 10.0.0.33 send-community      
  neighbor 10.0.0.33 next-hop-self
  ! as20r3
  neighbor 10.0.0.34 remote-as 20
  neighbor 10.0.0.34 update-source 10.0.0.35                                                     
  neighbor 10.0.0.34 send-community      
  neighbor 10.0.0.34 next-hop-self
  ! as20r1
  neighbor 10.0.0.35 remote-as 20
  neighbor 10.0.0.35 update-source 10.0.0.35                                                     
  neighbor 10.0.0.35 send-community      
  neighbor 10.0.0.35 next-hop-self
! ebgp
  ! as30r1 
  neighbor 192.168.1.21 remote-as 30
  neighbor 192.168.1.21 update-source 192.168.1.22                                                     
  neighbor 192.168.1.21 send-community
  ! as100r1 
  neighbor 192.168.1.9 remote-as 100
  neighbor 192.168.1.9 update-source 192.168.1.10                                                     
  neighbor 192.168.1.9 send-community
  ! as200r1 
  neighbor 192.168.1.29 remote-as 200
  neighbor 192.168.1.29 update-source 192.168.1.30                                                     
  neighbor 192.168.1.29 send-community

debug bgp
debug bgp events
debug bgp filters
debug bgp fsm
debug bgp keepalives
debug bgp updates 
log file /var/log/zebra/bgpd.log
